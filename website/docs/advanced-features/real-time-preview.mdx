import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# Real-Time Preview

All translations done in the Crowdin Editor can be displayed in your version of the application in real-time. See the translations that have already been done and the ones you're typing.

### Setup

Add the following code to the *Application* class:

import samplePreviewSetupKotlin from '!!raw-loader!../code-samples/real-time-preview/setup.kt';
import samplePreviewSetupJava from '!!raw-loader!../code-samples/real-time-preview/setup.java';

<Tabs groupId="language">
  <TabItem value="kotlin" label="Kotlin"><CodeBlock language="kotlin">{samplePreviewSetupKotlin}</CodeBlock></TabItem>
  <TabItem value="java" label="Java"><CodeBlock language="java">{samplePreviewSetupJava}</CodeBlock></TabItem>
</Tabs>

### Authorization

Crowdin Authorization is required for Real-Time Preview feature. Create connection using *Activity/Fragment* method *inMainActivity* class:

import samplePreviewAuthKotlin from '!!raw-loader!../code-samples/real-time-preview/auth.kt';
import samplePreviewAuthJava from '!!raw-loader!../code-samples/real-time-preview/auth.java';

<Tabs groupId="language">
  <TabItem value="kotlin" label="Kotlin"><CodeBlock language="kotlin">{samplePreviewAuthKotlin}</CodeBlock></TabItem>
  <TabItem value="java" label="Java"><CodeBlock language="java">{samplePreviewAuthJava}</CodeBlock></TabItem>
</Tabs>

You can disconnect via:

import samplePreviewDisconnectKotlin from '!!raw-loader!../code-samples/real-time-preview/disconnect.kt';
import samplePreviewDisconnectJava from '!!raw-loader!../code-samples/real-time-preview/disconnect.java';

<Tabs groupId="language">
  <TabItem value="kotlin" label="Kotlin"><CodeBlock language="kotlin">{samplePreviewDisconnectKotlin}</CodeBlock></TabItem>
  <TabItem value="java" label="Java"><CodeBlock language="java">{samplePreviewDisconnectJava}</CodeBlock></TabItem>
</Tabs>

:::tip Tips
- To use the Real-Time Preview feature you still need to [wrap context](/setup#context-wrapping) for your activities.
- To easily control the Real-Time Preview feature you could also use the [SDK Controls](/advanced-features/sdk-controls) UI widget.
- For Jetpack Compose applications, see [Jetpack Compose Realtime Support](jetpack-compose.mdx).
:::

### Config options

| Config option                | Description                                                             | Example                                                                    |
|------------------------------|-------------------------------------------------------------------------|----------------------------------------------------------------------------|
| `withDistributionHash`       | Distribution Hash                                                       | `withDistributionHash("7a0c1...7uo3b")`                                    |
| `withRealTimeUpdates`        | Enable Real-Time Preview feature                                        | `withRealTimeUpdates()`                                                    |
| `withSourceLanguage`         | Source language code in your Crowdin project                            | `withSourceLanguage("en")`                                                 |
| `withAuthConfig`             | Crowdin authorization config                                            | `withAuthConfig(AuthConfig("client_id", "client_secret", "redirect_uri"))` |
| `client_id`, `client_secret` | Crowdin OAuth Client ID and Client Secret                               | `"gpY2yC...cx3TYB"`, `"Xz95tfedd0A...TabEDx9T"`                            |
| `redirect_uri`               | OAuth redirect URI (optional, defaults to `"crowdintest://"`)           | `"your-custom://redirect"` or `"crowdintest://"`                           |
| `request_auth_dialog`        | Request authorization dialog                                            | `true` by default or `false`                                               |
| `withOrganizationName`       | An Organization domain name<br/>(for **Crowdin Enterprise users only**) | `"mycompany"` for Crowdin Enterprise or `null` for crowdin.com             |

### Redirect URI Configuration

You can configure the OAuth redirect URI for authorization in two ways:

- Via `AuthConfig` (Recommended): Specify the redirect URI directly in your `AuthConfig`. This method provides more flexibility and doesn't require manifest configuration.
- Via App Scheme in Manifest: Configure the redirect URI using app scheme in your `AndroidManifest.xml`. When using this method, the redirect URL in your Crowdin OAuth app should be `crowdintest://`.

The [OAuth App](https://support.crowdin.com/creating-oauth-app/) redirect URL should match your configured redirect URI:
  - When using **AuthConfig method**: Set the redirect URL to match the `redirect_uri` parameter value (e.g., `"your-custom://redirect"`)
  - When using **App scheme method**: Set the redirect URL to match your app scheme (e.g., for scheme `<data android:scheme="crowdintest" />` use `crowdintest://`)
