"use strict";(self.webpackChunk_crowdin_mobile_sdk_android_website=self.webpackChunk_crowdin_mobile_sdk_android_website||[]).push([[351],{8385:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/programmatic-strings","title":"Programmatic String Access","description":"In some cases, you may need to programmatically get or set translations for specific languages without relying on the standard","source":"@site/docs/guides/programmatic-strings.md","sourceDirName":"guides","slug":"/guides/programmatic-strings","permalink":"/mobile-sdk-android/guides/programmatic-strings","draft":false,"unlisted":false,"editUrl":"https://github.com/crowdin/mobile-sdk-android/tree/master/website/docs/guides/programmatic-strings.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Synchronous Mode","permalink":"/mobile-sdk-android/guides/synchronous-mode"},"next":{"title":"Example Project","permalink":"/mobile-sdk-android/example"}}');var r=s(4848),t=s(8453);const a={},o="Programmatic String Access",l={},c=[{value:"Getting a String",id:"getting-a-string",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Return Value",id:"return-value",level:3},{value:"Setting a String",id:"setting-a-string",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Use Configuration Locale",id:"use-configuration-locale",level:3},{value:"Use Cases",id:"use-cases",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"programmatic-string-access",children:"Programmatic String Access"})}),"\n",(0,r.jsx)(n.p,{children:"In some cases, you may need to programmatically get or set translations for specific languages without relying on the standard\nAndroid resource system. The Crowdin SDK provides methods to directly access and modify translation strings."}),"\n",(0,r.jsx)(n.admonition,{title:"Version Requirement",type:"info",children:(0,r.jsx)(n.p,{children:"Available starting from Crowdin SDK version 1.16.0."})}),"\n",(0,r.jsx)(n.h2,{id:"getting-a-string",children:"Getting a String"}),"\n",(0,r.jsxs)(n.p,{children:["You can retrieve a translation for a specific language using the ",(0,r.jsx)(n.code,{children:"Crowdin.getString()"})," method:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'val translation = Crowdin.getString("en-US", "string_key")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"language"})," - Language code in the format ",(0,r.jsx)(n.code,{children:"language"})," or ",(0,r.jsx)(n.code,{children:"language-country"})," (e.g., ",(0,r.jsx)(n.code,{children:"en"}),", ",(0,r.jsx)(n.code,{children:"en-GB"}),", ",(0,r.jsx)(n.code,{children:"en-US"}),").\nSee ",(0,r.jsx)(n.a,{href:"https://support.crowdin.com/developer/language-codes/",children:"Crowdin Language Codes"})," for more details."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key"})," - The string resource key as defined in your Crowdin project."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"return-value",children:"Return Value"}),"\n",(0,r.jsx)(n.p,{children:"Returns the translated string for the specified language and key. If the translation is not found, an empty string is returned."}),"\n",(0,r.jsx)(n.h2,{id:"setting-a-string",children:"Setting a String"}),"\n",(0,r.jsxs)(n.p,{children:["You can programmatically set a translation for a specific language using the ",(0,r.jsx)(n.code,{children:"Crowdin.setString()"})," method:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'Crowdin.setString("en-US", "string_key", "Hello, World!")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"language"})," - Language code in the format ",(0,r.jsx)(n.code,{children:"language"})," or ",(0,r.jsx)(n.code,{children:"language-country"})," (e.g., ",(0,r.jsx)(n.code,{children:"en"}),", ",(0,r.jsx)(n.code,{children:"en-GB"}),", ",(0,r.jsx)(n.code,{children:"en-US"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key"})," - The string resource key"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"value"})," - The translation string value"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"use-configuration-locale",children:"Use Configuration Locale"}),"\n",(0,r.jsxs)(n.p,{children:["When retrieving translations for the current language, always use ",(0,r.jsx)(n.code,{children:"resources.configuration.getLocale()"})," instead of\n",(0,r.jsx)(n.code,{children:"Locale.getDefault()"}),". This ensures the language tag matches exactly what the SDK uses to store translations from the\ndistribution."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:'// Recommended: Use configuration locale\nval languageTag = resources.configuration.getLocale().toLanguageTag()\nval translation = Crowdin.getString(languageTag, "string_key")\n\n// Not recommended: Using default locale may not match distribution locale\nval languageTag = Locale.getDefault().toLanguageTag()\nval translation = Crowdin.getString(languageTag, "string_key")\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"This is especially important when implementing in-app language switching or when using Android's per-app language settings (\nAndroid 13+)."})," If your app allows users to change the language within the app, or if users set a different language for your app\nin system settings, ",(0,r.jsx)(n.code,{children:"Locale.getDefault()"})," will still return the system locale, not the app's current language. Using\n",(0,r.jsx)(n.code,{children:"resources.configuration.getLocale()"})," ensures you always get the correct locale that matches your app's current language setting."]}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"These methods are useful for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dynamic Content"}),": Setting translations dynamically based on runtime conditions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Injecting test translations without modifying resource files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom Fallbacks"}),": Implementing custom fallback logic for missing translations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"A/B Testing"}),": Switching between different translation variants programmatically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Analytics"}),": Retrieving specific translations for logging or analytics purposes"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Strings set using ",(0,r.jsx)(n.code,{children:"setString()"})," are stored in memory and will be available for the current session"]}),"\n",(0,r.jsx)(n.li,{children:"These strings will be included in the SDK's cache and persist across app restarts"}),"\n"]})})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);