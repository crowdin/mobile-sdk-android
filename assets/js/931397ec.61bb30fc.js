"use strict";(self.webpackChunk_crowdin_mobile_sdk_android_website=self.webpackChunk_crowdin_mobile_sdk_android_website||[]).push([[839],{9041:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>w,contentTitle:()=>b,default:()=>A,frontMatter:()=>f,metadata:()=>r,toc:()=>v});const r=JSON.parse('{"id":"advanced-features/screenshots","title":"Screenshots","description":"The Screenshots feature enhances the localization workflow by automatically capturing and uploading tagged screenshots from your application to your Crowdin project. This provides translators with valuable visual context, ensuring more accurate and contextually appropriate translations.","source":"@site/docs/advanced-features/screenshots.mdx","sourceDirName":"advanced-features","slug":"/advanced-features/screenshots","permalink":"/mobile-sdk-android/advanced-features/screenshots","draft":false,"unlisted":false,"editUrl":"https://github.com/crowdin/mobile-sdk-android/tree/master/website/docs/advanced-features/screenshots.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Real-Time Preview","permalink":"/mobile-sdk-android/advanced-features/real-time-preview"},"next":{"title":"SDK Controls","permalink":"/mobile-sdk-android/advanced-features/sdk-controls"}}');var i=t(4848),s=t(8453),o=t(5537),a=t(9329),l=t(8069);const d="override fun onCreate() {\n    super.onCreate()\n\n    Crowdin.init(applicationContext,\n        CrowdinConfig.Builder()\n            .withDistributionHash(your_distribution_hash)\n            .withScreenshotEnabled()\n            .withSourceLanguage(source_language)\n            .withAuthConfig(AuthConfig(\n                client_id,\n                client_secret,\n                request_auth_dialog\n            ))\n            .withOrganizationName(organization_name)   // required for Crowdin Enterprise\n            .withNetworkType(network_type)             // optional\n            .withUpdateInterval(interval_in_seconds)   // optional\n            .build())\n}\n\n// Using system buttons to take screenshots and automatically upload them to Crowdin.\nCrowdin.registerScreenShotContentObserver(this)",c="@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    Crowdin.init(this,\n        new CrowdinConfig.Builder()\n            .withDistributionHash(your_distribution_hash)\n            .withScreenshotEnabled()\n            .withSourceLanguage(source_language)\n            .withAuthConfig(new AuthConfig(\n                client_id,\n                client_secret,\n                request_auth_dialog\n            ))\n            .withOrganizationName(organization_name)   // required for Crowdin Enterprise\n            .withNetworkType(network_type)             // optional\n            .withUpdateInterval(interval_in_seconds)   // optional\n            .build());\n}\n\n// Using system buttons to take screenshots and automatically upload them to Crowdin.\nCrowdin.registerScreenShotContentObserver(this);\n";var u=t(9555),h=t(8898);const p='.withApiAuthConfig(\n    ApiAuthConfig(\n        apiToken = "your_crowdin_api_token",\n    )\n)',x='.withApiAuthConfig(\n    new ApiAuthConfig(\n        "your_crowdin_api_token"\n    )\n)',j='Crowdin.sendScreenshot(activity!!, screenshotName, object : ScreenshotCallback {\n    override fun onSuccess() {\n        Log.d(TAG, "Screenshot uploaded")\n    }\n\n    override fun onFailure(throwable: Throwable) {\n        Log.d(TAG, throwable.localizedMessage)\n    }\n})',g='View.OnClickListener oclBtnOk = new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        Crowdin.sendScreenshot(YourActivity.this, screenshotName, new ScreenshotCallback() {\n            @Override\n            public void onSuccess() {\n                Log.d("", "Screenshot uploaded");\n            }\n\n            @Override\n            public void onFailure(Throwable throwable) {\n                Log.d("", String.valueOf(throwable));\n            }\n      });\n  }\n};',f={},b="Screenshots",w={},v=[{value:"Overview",id:"overview",level:2},{value:"Setup",id:"setup",level:2},{value:"Authorization",id:"authorization",level:2},{value:"OAuth-based Authorization",id:"oauth-based-authorization",level:3},{value:"API Token Authorization",id:"api-token-authorization",level:3},{value:"Custom Screenshot Handler",id:"custom-screenshot-handler",level:2},{value:"Config Options",id:"config-options",level:2}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"screenshots",children:"Screenshots"})}),"\n",(0,i.jsx)(n.p,{children:"The Screenshots feature enhances the localization workflow by automatically capturing and uploading tagged screenshots from your application to your Crowdin project. This provides translators with valuable visual context, ensuring more accurate and contextually appropriate translations."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"You can capture and upload tagged screenshots to Crowdin in three ways:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"System Screenshot Buttons"}),": Utilize the default system buttons/gestures for taking screenshots"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Custom Handler"}),": Implement your own screenshot trigger (e.g., an in-app button or gesture, or an automated workflow)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SDK Controls Widget"}),": Use the built-in ",(0,i.jsx)(n.a,{href:"/advanced-features/sdk-controls",children:"SDK Controls"})," UI widget for easy management"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(n.p,{children:["To enable the Screenshots feature in your application, add the following configuration to your ",(0,i.jsx)(n.code,{children:"Application"})," class:"]}),"\n","\n",(0,i.jsxs)(o.A,{groupId:"language",children:[(0,i.jsx)(a.A,{value:"kotlin",label:"Kotlin",children:(0,i.jsx)(l.A,{language:"kotlin",children:d})}),(0,i.jsx)(a.A,{value:"java",label:"Java",children:(0,i.jsx)(l.A,{language:"java",children:c})})]}),"\n",(0,i.jsx)(n.h2,{id:"authorization",children:"Authorization"}),"\n",(0,i.jsx)(n.p,{children:"The Screenshots feature requires authorization to transmit screenshots to your Crowdin project. Choose from two authorization methods based on your needs:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OAuth-based Authorization"}),": Uses ",(0,i.jsx)(n.code,{children:"client_id"})," and ",(0,i.jsx)(n.code,{children:"client_secret"})," for web-based authorization. This method implements a secure OAuth flow that opens a dialog for users to authorize the application. Best suited for development environments and when user interaction is acceptable."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"API Token Authorization"}),": Uses the ",(0,i.jsx)(n.code,{children:"ApiAuthConfig"})," to pass the ",(0,i.jsx)(n.code,{children:"apiToken"})," directly. This streamlined method is ideal for automated workflows, CI/CD pipelines, or scenarios where user interaction is not desired."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"oauth-based-authorization",children:"OAuth-based Authorization"}),"\n",(0,i.jsxs)(n.p,{children:["Implements a secure web-based authorization flow using ",(0,i.jsx)(n.code,{children:"client_id"})," and ",(0,i.jsx)(n.code,{children:"client_secret"}),". This method:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Opens a dialog for user authorization"}),"\n",(0,i.jsx)(n.li,{children:"Provides a secure authentication process"}),"\n",(0,i.jsx)(n.li,{children:"Is ideal for development and testing environments"}),"\n"]}),"\n","\n",(0,i.jsxs)(o.A,{groupId:"language",children:[(0,i.jsx)(a.A,{value:"kotlin",label:"Kotlin",children:(0,i.jsx)(l.A,{language:"kotlin",children:u.A})}),(0,i.jsx)(a.A,{value:"java",label:"Java",children:(0,i.jsx)(l.A,{language:"java",children:h.A})})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When using OAuth, verify that your OAuth App redirect URL matches your ",(0,i.jsx)(n.strong,{children:"App scheme"}),". For example, if your scheme is ",(0,i.jsx)(n.code,{children:'<data android:scheme="crowdintest" />'}),", the redirect URL in Crowdin should be ",(0,i.jsx)(n.code,{children:"crowdintest://"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["To easily control the Screenshots feature you could also use the ",(0,i.jsx)(n.a,{href:"/advanced-features/sdk-controls",children:"SDK Controls"})," UI widget."]}),"\n"]})}),"\n",(0,i.jsx)(n.h3,{id:"api-token-authorization",children:"API Token Authorization"}),"\n",(0,i.jsxs)(n.p,{children:["A streamlined approach using the ",(0,i.jsx)(n.code,{children:"ApiAuthConfig"})," class that bypasses OAuth authentication. This method:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Allows direct API token integration"}),"\n",(0,i.jsx)(n.li,{children:"Requires no user interaction"}),"\n",(0,i.jsx)(n.li,{children:"Is perfect for CI/CD pipelines and automated workflows"}),"\n"]}),"\n","\n",(0,i.jsxs)(o.A,{groupId:"language",children:[(0,i.jsx)(a.A,{value:"kotlin",label:"Kotlin",children:(0,i.jsx)(l.A,{language:"kotlin",children:p})}),(0,i.jsx)(a.A,{value:"java",label:"Java",children:(0,i.jsx)(l.A,{language:"java",children:x})})]}),"\n",(0,i.jsx)(n.h2,{id:"custom-screenshot-handler",children:"Custom Screenshot Handler"}),"\n",(0,i.jsx)(n.p,{children:"Implement your own screenshot capture logic by setting up a custom handler. This provides complete control over the screenshot capture process and allows integration with your application's specific requirements."}),"\n","\n",(0,i.jsxs)(o.A,{groupId:"language",children:[(0,i.jsx)(a.A,{value:"kotlin",label:"Kotlin",children:(0,i.jsx)(l.A,{language:"kotlin",children:j})}),(0,i.jsx)(a.A,{value:"java",label:"Java",children:(0,i.jsx)(l.A,{language:"java",children:g})})]}),"\n",(0,i.jsx)(n.h2,{id:"config-options",children:"Config Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Config option"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withDistributionHash"})}),(0,i.jsx)(n.td,{children:"Distribution Hash"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'withDistributionHash("7a0c1...7uo3b")'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withScreenshotEnabled"})}),(0,i.jsx)(n.td,{children:"Enable Screenshots feature"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withScreenshotEnabled()"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withSourceLanguage"})}),(0,i.jsx)(n.td,{children:"Source language code in your Crowdin project"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'withSourceLanguage("en")'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withAuthConfig"})}),(0,i.jsx)(n.td,{children:"Crowdin authorization config"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withAuthConfig(AuthConfig(client_id, client_secret, request_auth_dialog))"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"client_id"}),", ",(0,i.jsx)(n.code,{children:"client_secret"})]}),(0,i.jsx)(n.td,{children:"Crowdin OAuth Client ID and Client Secret"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"gpY2yC...cx3TYB"'}),", ",(0,i.jsx)(n.code,{children:'"Xz95tfedd0A...TabEDx9T"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"request_auth_dialog"})}),(0,i.jsx)(n.td,{children:"Request authorization dialog"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"true"})," (default) or ",(0,i.jsx)(n.code,{children:"false"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withApiAuthConfig"})}),(0,i.jsx)(n.td,{children:"Crowdin authorization API config"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withApiAuthConfig(ApiAuthConfig(api_token))"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api_token"})}),(0,i.jsx)(n.td,{children:"Crowdin authorization token"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"gpY2yC...cx3TYB"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"withOrganizationName"})}),(0,i.jsxs)(n.td,{children:["An Organization domain name",(0,i.jsx)("br",{}),"(for ",(0,i.jsx)(n.strong,{children:"Crowdin Enterprise users only"}),")"]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"mycompany"'})," for Crowdin Enterprise or ",(0,i.jsx)(n.code,{children:"null"})," for crowdin.com"]})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"https://support.crowdin.com/account-settings/#oauth",children:"OAuth"})," and ",(0,i.jsx)(n.a,{href:"https://support.crowdin.com/account-settings/#api",children:"API"})," sections in your Crowdin account settings to obtain the necessary credentials."]})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ensure you've properly ",(0,i.jsx)(n.a,{href:"/setup#context-wrapping",children:"wrapped context"})," for all activities where screenshots will be captured."]}),"\n",(0,i.jsxs)(n.li,{children:["Using the ",(0,i.jsx)(n.code,{children:"Crowdin.registerScreenShotContentObserver(this)"})," (system button handler) to send screenshots to Crowdin requires storage permission for your application."]}),"\n"]})})]})}function A(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},9329:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var r=t(4164);const i={tabItem:"tabItem_Ymn6"};var s=t(4848);function o(e){let{children:n,hidden:t,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,o),hidden:t,children:n})}},5537:(e,n,t)=>{t.d(n,{A:()=>A});var r=t(6540),i=t(4164),s=t(5627),o=t(6347),a=t(372),l=t(604),d=t(1861),c=t(8749);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:i}}=e;return{value:n,label:t,attributes:r,default:i}}))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:t}=e;const i=(0,o.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(i.location.search);n.set(s,e),i.replace({...i.location,search:n.toString()})}),[s,i])]}function j(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,s=h(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s}))),[d,u]=x({queryString:t,groupId:i}),[j,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,s]=(0,c.Dv)(t);return[i,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:i}),f=(()=>{const e=d??j;return p({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{f&&l(f)}),[f]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),g(e)}),[u,g,s]),tabValues:s}}var g=t(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function w(e){let{className:n,block:t,selectedValue:r,selectValue:o,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),i=a[t].value;i!==r&&(d(n),o(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...s,className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:s}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function m(e){const n=j(e);return(0,b.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,b.jsx)(w,{...n,...e}),(0,b.jsx)(v,{...n,...e})]})}function A(e){const n=(0,g.A)();return(0,b.jsx)(m,{...e,children:u(e.children)},String(n))}},8898:(e,n,t)=>{t.d(n,{A:()=>r});const r="@Override\npublic void onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) {\n    super.onCreate(savedInstanceState, persistentState);\n    Crowdin.authorize(this);\n}"},9555:(e,n,t)=>{t.d(n,{A:()=>r});const r="override fun onCreate(savedInstanceState: Bundle?) {\n    Crowdin.authorize(this)\n}"}}]);