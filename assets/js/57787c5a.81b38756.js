"use strict";(self.webpackChunk_crowdin_mobile_sdk_android_website=self.webpackChunk_crowdin_mobile_sdk_android_website||[]).push([[386],{450:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>f,default:()=>j,frontMatter:()=>v,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"advanced-features/sdk-controls","title":"SDK Controls","description":"Crowdin Controls Widget - UI widget that provides quick access to core SDK functionality. This floating widget can be positioned anywhere on the screen and features both expanded and collapsed states. The widget enables direct interaction with key SDK features like translation preview and screenshot capture.","source":"@site/docs/advanced-features/sdk-controls.mdx","sourceDirName":"advanced-features","slug":"/advanced-features/sdk-controls","permalink":"/mobile-sdk-android/advanced-features/sdk-controls","draft":false,"unlisted":false,"editUrl":"https://github.com/crowdin/mobile-sdk-android/tree/master/website/docs/advanced-features/sdk-controls.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Screenshots","permalink":"/mobile-sdk-android/advanced-features/screenshots"},"next":{"title":"Screenshots Automation","permalink":"/mobile-sdk-android/guides/screenshots-automation"}}');var a=n(4848),s=n(8453),o=n(5537),i=n(9329),l=n(8069);const d="override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    initCrowdinControl(this)\n}",c="@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    CrowdinControlUtil.initCrowdinControl(this);\n}",u="override fun onDestroy() {\n    super.onCreate(savedInstanceState)\n    destroyCrowdinControl(this)\n}",h="@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    CrowdinControlUtil.destroyCrowdinControl(this);\n}",p="override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n     super.onActivityResult(requestCode, resultCode, data)\n     onActivityResult(this, requestCode)\n}",b="@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    CrowdinControlUtil.onActivityResult(this, requestCode);\n}",v={},f="SDK Controls",g={},m=[{value:"Installation",id:"installation",level:3},{value:"Initialization",id:"initialization",level:3}];function x(e){const t={code:"code",h1:"h1",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"sdk-controls",children:"SDK Controls"})}),"\n",(0,a.jsx)(t.p,{children:"Crowdin Controls Widget - UI widget that provides quick access to core SDK functionality. This floating widget can be positioned anywhere on the screen and features both expanded and collapsed states. The widget enables direct interaction with key SDK features like translation preview and screenshot capture."}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Collapsed (simple icon)"}),(0,a.jsx)(t.th,{children:"Expanded"})]})}),(0,a.jsx)(t.tbody,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.img,{alt:"SDK Controls collapsed",src:n(7e3).A+"",width:"560",height:"1185"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.img,{alt:"SDK Controls expanded",src:n(6352).A+"",width:"560",height:"1185"})})]})})]}),"\n",(0,a.jsx)(t.p,{children:"The expanded state provides the following action buttons:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Real-time Preview Enable/Disable: open/close the connection that is required to work with Crowdin Editor."}),"\n",(0,a.jsx)(t.li,{children:"Capture Screenshots: capture a screenshot of the current screen with all tags and upload it to Crowdin. It's also possible to specify the name of the screenshot in the input field above."}),"\n",(0,a.jsxs)(t.li,{children:["Reload Translations:","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Real-Time Preview ON: it will fetch the latest translations from Crowdin and apply changes to UI."}),"\n",(0,a.jsx)(t.li,{children:"Real-Time Preview OFF: it will fetch the content from distribution (it won't update UI instantly. Translations will be updated on the next application load or Activity change)."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.li,{children:"Log In/Out: launch authorization flow or clear user authorization data on logout."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,a.jsxs)(t.p,{children:["Add it to your root ",(0,a.jsx)(t.code,{children:"build.gradle"})," at the end of repositories:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-groovy",children:"allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"Add the dependency:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-groovy",children:"dependencies {\n    implementation 'com.github.crowdin.mobile-sdk-android:controls:1.14.1'\n}\n"})}),"\n",(0,a.jsx)(t.h3,{id:"initialization",children:"Initialization"}),"\n",(0,a.jsx)(t.p,{children:"Add this line to your base Activity onCreate method:"}),"\n","\n",(0,a.jsxs)(o.A,{groupId:"language",children:[(0,a.jsx)(i.A,{value:"kotlin",label:"Kotlin",children:(0,a.jsx)(l.A,{language:"kotlin",children:d})}),(0,a.jsx)(i.A,{value:"java",label:"Java",children:(0,a.jsx)(l.A,{language:"java",children:c})})]}),"\n",(0,a.jsxs)(t.p,{children:["Call the ",(0,a.jsx)(t.code,{children:"destroy"})," method to hide the control component. Also, you can do it by clicking on the close image button:"]}),"\n","\n",(0,a.jsxs)(o.A,{groupId:"language",children:[(0,a.jsx)(i.A,{value:"kotlin",label:"Kotlin",children:(0,a.jsx)(l.A,{language:"kotlin",children:u})}),(0,a.jsx)(i.A,{value:"java",label:"Java",children:(0,a.jsx)(l.A,{language:"java",children:h})})]}),"\n",(0,a.jsxs)(t.p,{children:["Starting from Android M - the ",(0,a.jsx)(t.strong,{children:"Display over other apps"})," permission is required. You will be redirected to settings automatically. To handle result properly, please add the next lines to your Activity class:"]}),"\n","\n",(0,a.jsxs)(o.A,{groupId:"language",children:[(0,a.jsx)(i.A,{value:"kotlin",label:"Kotlin",children:(0,a.jsx)(l.A,{language:"kotlin",children:p})}),(0,a.jsx)(i.A,{value:"java",label:"Java",children:(0,a.jsx)(l.A,{language:"java",children:b})})]})]})}function j(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(x,{...e})}):x(e)}},9329:(e,t,n)=>{n.d(t,{A:()=>o});n(6540);var r=n(4164);const a={tabItem:"tabItem_Ymn6"};var s=n(4848);function o(e){let{children:t,hidden:n,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,o),hidden:n,children:t})}},5537:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(6540),a=n(4164),s=n(5627),o=n(6347),i=n(372),l=n(604),d=n(1861),c=n(8749);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,d.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.W6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(a.location.search);t.set(s,e),a.replace({...a.location,search:t.toString()})}),[s,a])]}function v(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,s=h(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:s}))),[d,u]=b({queryString:n,groupId:a}),[v,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,s]=(0,c.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:a}),g=(()=>{const e=d??v;return p({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,s]),tabValues:s}}var f=n(9136);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=n(4848);function x(e){let{className:t,block:n,selectedValue:r,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),c=e=>{const t=e.currentTarget,n=l.indexOf(t),a=i[n].value;a!==r&&(d(t),o(a))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:s}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...s,className:(0,a.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function j(e){let{lazy:t,children:n,selectedValue:s}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function w(e){const t=v(e);return(0,m.jsxs)("div",{className:(0,a.A)("tabs-container",g.tabList),children:[(0,m.jsx)(x,{...t,...e}),(0,m.jsx)(j,{...t,...e})]})}function y(e){const t=(0,f.A)();return(0,m.jsx)(w,{...e,children:u(e.children)},String(t))}},7e3:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/crowdin_controls_collapsed-318ac6cae36509fb3f8ab27cc6e0dc57.png"},6352:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/crowdin_controls_expanded-e99d7f2962372c0cc5a3a32ab045e975.png"}}]);